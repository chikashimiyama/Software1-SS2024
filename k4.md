# Klasse 4

## Arduino Theremin

![](k4/img/theremin.png)

### Schritt 1

Infrarot Sensor Steuert die Frequenz von Rechteck.

```
int speaker = 8;
int sensor = A0;

void setup()
{
    pinMode(speaker, OUTPUT);
}

void loop()
{
    int delayTime = analogRead(A0) / 64;

    digitalWrite(speaker, 1);
    delay(delayTime);
    digitalWrite(speaker, 0);
    delay(delayTime);
}
```

### Schritt 2

Mit delayMicroseconds

```

int speaker = 8;
int sensor = A0;

void setup()
{
    pinMode(speaker, OUTPUT);
}

void loop()
{
    int delayTime = analogRead(A0) * 4;

    digitalWrite(speaker, 1);
    delayMicroseconds(delayTime);
    digitalWrite(speaker, 0);
    delayMicroseconds(delayTime);
}
```

zu viel Geräusch

### Schritt 3

Mit LPF

```

int speaker = 8;
int sensor = A0;
int previousValue;
void setup()
{
    pinMode(speaker, OUTPUT);
}

void loop()
{
    int delayTime = analogRead(A0) * 4;

    delayTime = (delayTime - previousValue) * 0.1 + previousValue;
    digitalWrite(speaker, 1);
    delayMicroseconds(delayTime);
    digitalWrite(speaker, 0);
    delayMicroseconds(delayTime);

    previousValue = delayTime;
}
```

### Schritt 4

Photocell für Klangfarbesteuerung

```

```






### Schritt 5

Mit Schalter

```


```











